{
  "hash": "aae5a4f2ccdd77bdbf57ebe9960d808a",
  "result": {
    "markdown": "---\ntitle: \"Loading Large Datasets\"\ndescription: \"`use in` vs `use if`\"\nauthor: \"Fernando Rios-Avila\"\ndate: \"3/27/2023\"\ncategories: \n    - Stata\n    - tips\ndraft: false\n---\n\nIf you ever wanted to work with very large datasets, you will find that doing may be difficult, if not impossible, due to memory limitations, or at the very least time costly.\n\nOne option you may want to try when doing this, however, is to use the options `if` `in` and/or using `varlists`.\n\nFor example, say that you want to work with the dataset `oaxaxa` which is located in your working directory. You can load only a subset of the data typing:\n\n::: {.cell execution_count=1}\n\n::: {.cell-output .cell-output-display}\n```\n<IPython.core.display.HTML object>\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\nc:\\ado\\personal\n```\n:::\n:::\n\n\n::: {.cell execution_count=2}\n``` {.stata .cell-code code-fold=\"false\"}\nuse oaxaca if female ==1, clear\nsum female age\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n(Excerpt from the Swiss Labor Market Survey 1998)\n\n    Variable |        Obs        Mean    Std. dev.       Min        Max\n-------------+---------------------------------------------------------\n      female |        888           1           0          1          1\n         age |        888    39.88401    10.72665         18         62\n```\n:::\n:::\n\n\nyou could alternatively load only few variables in the dataset:\n\n::: {.cell execution_count=3}\n``` {.stata .cell-code code-fold=\"false\"}\nuse female age educ using oaxaca , clear\nsum *\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n(Excerpt from the Swiss Labor Market Survey 1998)\n\n    Variable |        Obs        Mean    Std. dev.       Min        Max\n-------------+---------------------------------------------------------\n        educ |      1,647    11.40134    2.374952          5       17.5\n      female |      1,647    .5391621    .4986154          0          1\n         age |      1,647    39.25379    11.03187         18         62\n```\n:::\n:::\n\n\nor use a combination of both. Now, if your dataset is really large, i suggest you to use `in`, which will do the task much faster than using `if`. Why? because using `if` you still need to go over every observation of your dataset. However using `in` only goes over the pre-specified number of observations. \n\n::: {.cell execution_count=4}\n``` {.stata .cell-code code-fold=\"false\"}\nuse female age educ using oaxaca in 1/10, clear\nlist , sep(0)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n(Excerpt from the Swiss Labor Market Survey 1998)\n\n     +---------------------+\n     | educ   female   age |\n     |---------------------|\n  1. |    9        1    37 |\n  2. |    9        0    62 |\n  3. | 10.5        1    40 |\n  4. |   12        0    55 |\n  5. |   12        0    36 |\n  6. | 10.5        0    31 |\n  7. | 10.5        0    50 |\n  8. | 17.5        0    42 |\n  9. | 17.5        0    36 |\n 10. | 10.5        0    30 |\n     +---------------------+\n```\n:::\n:::\n\n\n",
    "supporting": [
      "index_files\\figure-pdf"
    ],
    "filters": []
  }
}