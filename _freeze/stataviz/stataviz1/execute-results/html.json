{
  "hash": "f9be9663e4221d3954c3145bcf20ad45",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"How to add Colors to your Life: `color_style`\"\nsubtitle: \"The `ado` way\"\nformat: html\n---\n\n![This is the way](https://i.pinimg.com/originals/98/c6/99/98c6997145f363265959daf84b656057.jpg){width=80%}\n\nI should start by saying that what I will be presenting here is ***not*** the only way. There are other ways to create and modify your schemes however you would like to do. Most people provide you with the full set of schemes for that purpose. \n\nThat being said, the command I'll be presenting depends on a few tools built by Ben Jann: `colorpalette`, `colorspace`, as well as `grstyle`.\n\nIt also has only 1 purpose. Change the color settings from your current \"scheme\" to any other palette either available in `colorpalette`, or provided by the program.\n\nSo let me start\n \n# Why do we care about colors?\n\nWhy not? \n\nEven though I suspect you are an economist, who does research, you may also be curious or may have some inclination for data visualization, which means you like to put some colors in your graphs.\n\n**`Stata`**, as many other software, can handle colors pretty well, but its not very natural at it. Why? because it is an statistical/econometric software, and does not specialize much on design and colors. \n\nIn fact, a running comment, or complain, is why is it that they have such an *ugly* choice of colors for the default setting? And why are the graphics capabilities so limited/complex!\n\nLuckily, many users have created tools to add color to your figures much easier. And that is the purpose of this new command. Add colors to your figures!\n\n## So how does it work?\n\nAs I mentioned earlier, there are two very useful programs that mine builds on. These are `colorpalette` and `grstyle`, both by Ben Jann.\n\n- `colorpalette` helps create colors, call on palettes, modify properties, and translate them in a way that `Stata` will understand. \n\n- `grstyle` helps modifying the current scheme, so all graphs done afterward will use the modify schemes.\n\n## Where does mine fit? \n\nMy program `color_style` is in fact a wrapper around `colorpalette` and `grstyle`. You can use it to call on a particular color palette, and will automatically apply it into your scheme. \n\nIt also brings some other colorpalettes that can be stored in memory, and applied to your graphs, but enough talk, lets see how it works!\n\nFirst, setup. make sure you have the following programs installed in your computer\n\n```stata\nssc install palettes\nssc install colrspace  \nssc install grstyle\n\n* And of course my program\n\nssc install color_style \n```\n\n::: {#a35e08ea .cell execution_count=1}\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<style>div.jp-Notebook .datagrid-container {min-height: 448px; }</style>\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n%set error(s):\n    'graph_width' configuration invalid. Reverting to: graph_width = 5.5in\n    'graph_height' configuration invalid. Reverting to: graph_height = 4in\n```\n:::\n:::\n\n\nLets start using default options for something simple. A pie Graph. \n\n::: {#b824e2be .cell execution_count=2}\n``` {.stata .cell-code}\nsysuse auto, clear\nset scheme s2color\ngraph pie mpg, over(rep78)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n(1978 automobile data)\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](stataviz1_files/figure-html/cell-3-output-2.png){}\n:::\n:::\n\n\nThis creates a pie graph with average MPG's by number of repairs in 1978. But what I didn't like\ndefault colors, you can request a change:\n\n::: {#11c41531 .cell execution_count=3}\n``` {.stata .cell-code}\nset scheme white2\ncolor_style viridis, n(5)\ngraph pie mpg, over(rep78)\n```\n\n::: {.cell-output .cell-output-display}\n![](stataviz1_files/figure-html/cell-4-output-1.png){}\n:::\n:::\n\n\nHere, I'll be using Viridis palette, but requesting only 5 colors. One can request up to 15 different colors.\n  \n## I want more!\n\nBut every body uses Viridis, what other palette can I use?\n  \nYou can look into the helpfile of `colorpalette` for a large set of colors. But, `color_style` also comes with its own set!.\nJust type: `color_style, list`, and a list of additional palettes will come up.\n\nBut you want to see examples! Below, you can see three examples, first using `egypt` color palette, second using `tableau`, and third using \nyour own colors\n\n::: {#92a56964 .cell execution_count=4}\n``` {.stata .cell-code}\ncolor_style egypt,\ngraph pie mpg, over(rep78) name(m1, replace)\n\n**\ncolor_style tableau\ngraph pie mpg, over(rep78) name(m2, replace)\n\n** or your own\ncolor_style #01161E #124559 #598392 #AEC3B0 #EFF6E0\ngraph pie mpg, over(rep78) name(m3, replace)\n```\n\n::: {.cell-output .cell-output-display}\n![](stataviz1_files/figure-html/cell-5-output-1.png){}\n:::\n\n::: {.cell-output .cell-output-display}\n![](stataviz1_files/figure-html/cell-5-output-2.png){}\n:::\n\n::: {.cell-output .cell-output-display}\n![](stataviz1_files/figure-html/cell-5-output-3.png){}\n:::\n:::\n\n\n## How does it work?\n\nNow that you know the magic, it is fair to know the trick.\n\nThis command `color_style` works as a wrapper behind `colorpalette`. It basically passes the information to this program\nto translate and create colors from either palettes, or directly provided colors, so it translates into RGB color code that `Stata` \nunderstands. \n\nAfter that, `grstyle` uses this information to change the colors of all graphic related styles (p1-p15), which is why there is a limitation \nof how many colors one can define using this method. \n\nIn any case, once you decide you like certain scheme, this small program should help to make it easy change colors, based on your needs.\n\n",
    "supporting": [
      "stataviz1_files\\figure-html"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}